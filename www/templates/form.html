<ion-view view-title="Apparatus Repair Form">
<!--
    <ion-content>
    <h1>Form goes here...</h1>
  </ion-content>
</ion-view>
-->
    
<!--
    <div class = "bar bar-header bar-positive">
   <button class = "button icon ion-navicon"></button>
   <h1 class = "title">Header Buttons</h1>
   <button class = "button icon ion-home"></button>
</div>
-->
    
      <ion-content overflow-scroll="true" class="has-header has-subheader padding">
        <form id="apparatusRepairForm" class="list"> 
            <div>
                <p ng-model="data.dateOfRepairRequest"><strong>Date: </strong>{{data.dateOfRepairRequest | date:'MM-dd-yyyy'}}</p>
                <p ng-model="data.who"><strong>Sumbitted by: </strong>{{who}}</p>
                <p ng-model="data.instructions"><strong>Instructions: </strong>{{instructions}}</p>
                <p ng-model="data.repairWorkflow"><strong>Repair Workflow: </strong>{{repairWorkflow}}</p>
            </div>
            <br><hr><br>
            <div>
                <h5 class="h5-label">Which apparatus?</h5>
                <label class="item item-select item-select-red " id="appRepairForm-apparatusInRepair">
                    <select ng-model="data.apparatusInRepair">
                      <option value="">Select</option>
                      <option ng-repeat="apparatus in apparatusList" value="{{apparatus.id}}"
                        ng-selected="apparatus.id == data.apparatusInRepair">
                        {{apparatus.name}}
                      </option>
                    </select>
                </label>
                
                <h5 class="h5-label">Apparatus currently in service?</h5>
                <label class="item item-select item-select-red " id="appRepairForm-apparatusServiceStatus">
                    <select ng-model="data.apparatusServiceStatus">
                      <option value="">Select</option>
                      <option value="Apparatus in Service">Apparatus in Service</option>
                      <option value="Apparatus IS, But Need Repairs">Apparatus IS, But Need Repairs</option>
                      <option value="Apparatus OOS">Apparatus OOS</option>
                    </select>
                </label>
                
<!--
                <h5 class="h5-label">Apparatus currently in service?</h5>
                <label class="item item-select item-select-red " id="appRepairForm-apparatusServiceStatus">
                    <select ng-model="data.apparatusServiceStatus">
                      <option value="">Select</option>
                      <option value="Yes">Yes</option>
                      <option value="No">No</option>
                    </select>
                </label>
                
-->
                <h5 class="h5-label">Short description of issue</h5>
                <label class="item item-input" id="appRepairForm-shortDescription">
                    <input type="text" placeholder="" ng-model="data.short">
                </label>
                
                <h5 class="h5-label">Comment</h5>
                <label class="item item-input" id="appRepairForm-comment">
                    <textarea type="text" placeholder="" ng-model="data.repairComment"></textarea>
                </label>
                    
                <h5 class="h5-label">Who was contacted?</h5>
                <label class="item item-input" id="appRepairForm-contacted">
                    <input type="text" placeholder="" ng-model="data.repairContact">
                </label>
                    
                <h5 class="h5-label">Your phone number</h5>
                <label class="item item-input" id="appRepairForm-phone">
                    <input type="text" placeholder="XXX-XXX-XXXX" ng-model="data.phoneNumber">
                </label>
                
                <h5 class="h5-label">Status</h5>
                <label class="item item-select item-select-red " id="appRepairForm-status">
                    <select ng-model="data.status">
                      <option value="">Select</option>
                      <option value="Open">Open</option>
                      <option value="Closed">Closed</option>
                      <option value="On Hold">On Hold</option>
                      <option value="Waiting for Parts">Waiting for Parts</option>
                    </select>
                </label>
                
                <h5 class="h5-label">Who closed?</h5>
                <label class="item item-select item-select-red " id="appRepairForm-whoClosed">
                    <select ng-model="data.whoClosed">
                      <option value="">Select</option>
                      <option ng-repeat="member in staffList" value="{{member.id}}"
                        ng-selected="member.id == data.whoClosed">
                        {{member.name}}
                      </option>
                    </select>
                </label>
                
                <h5 class="h5-label">What was repaired?</h5>
                <label class="item item-input" id="appRepairForm-repaired">
                    <input type="text" placeholder="" ng-model="data.whatRepaired">
                </label>
                
                <h5 class="h5-label">Cost of Repair</h5>
                <label class="item item-input" id="appRepairForm-repairCost">
                    <input type="number" placeholder="0.00" ng-model="data.costRepair">
                </label>
                
                <h5 class="h5-label">Time spent on repair</h5>
                <label class="item item-input" id="appRepairForm-timeSpent">
                    <input type="number" placeholder="" ng-model="data.timeRepair">
                </label>
          </div>     
          <button class="button button-assertive button-medium button-block" type="submit" ng-click="submit()">
            Submit
          </button>

        </form>   

      </ion-content>
                

<!--
            <label class="item item-input" ng-class="{ 'has-errors' : apparatusRepairForm.username.$invalid, 'no-errors' : apparatusRepairForm.username.$valid}">
              <span class="input-label">Username</span>
              <input type="text" name="username" ng-model="authorization.username" ng-minlength="5" ng-maxlength="20" required>
            </label>

            <div class="error-container" ng-show="apparatusRepairForm.username.$error" ng-messages="apparatusRepairForm.username.$error">
              <div ng-messages-include="error-list.html"></div>
            </div>

            <label class="item item-input" ng-class="{ 'has-errors' : apparatusRepairForm.password.$invalid && apparatusRepairForm.$submitted, 'no-errors' : apparatusRepairForm.password.$valid  && apparatusRepairForm.$submitted}">
              <span class="input-label">Password</span>
              <input type="password" name="password" ng-model="authorization.password" ng-minlength="5" ng-maxlength="20" required>
            </label>

            <div class="error-container last-error-container" ng-show="apparatusRepairForm.password.$error && apparatusRepairForm.$submitted" ng-messages="apparatusRepairForm.password.$error">
                <div ng-messages-include="error-list.html"></div> 
            </div>          
-->


<script id="error-list.html" type="text/ng-template">  
    <div class="error" ng-message="required">
      <i class="ion-information-circled"></i> 
      This field is required!
    </div>
    <div class="error" ng-message="minlength">
      <i class="ion-information-circled"></i> 
      Minimum length of this field is 5 characters!
    </div>
    <div class="error" ng-message="maxlength">
      <i class="ion-information-circled"></i> 
      Maximum length of this field is 20 characters!
    </div>
</script>   

</ion-view>
